<%- include('./partials/header.ejs') -%>
<div class="container" id="showPoem">
  <div class="row justify-content-center" >
    <div class="col-sm-4">
      <br/>
      <h1 class="text-center"><%=poem.title%></h1>
      <h5 class="text-center"><%=poem.author%></h5>
      <p class="text-center" id="content"><%=poem.content%></p>
      <p class="text-center"><small class="text-muted"><%=poem.time%></small></p>
    </div>
  </div>
  <div class="btn-group d-flex justify-content-center">
    <div>
      <form action="/poems/<%=poem.id%>/edit" method="get">
        <input type="submit" class="btn btn-primary" value="Edit">
      </form>
    </div>
    <div >
      <form action="/poems/<%=poem.id%>?_method=DELETE" method="post">
        <input type="submit" class="btn btn-primary" value="Delete">
      </form>
    </div>
    <div>
      <button class="btn btn-primary" onclick="responsiveVoice.speak(document.getElementById('content').textContent, 'US English Female')">Read</button>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-8">
      <br/>
      <h4>Comments</h4>
      <form action="/poems/<%=poem.id%>" method="post">
        <input type="text" name="author" placeholder="Your Name">
        <br/>
        <textarea id="comment" name="comment" rows="2" cols="70" placeholder="Your comment"></textarea>
        <button class="btn btn-dark">Post</button>
      </form>
    </div>
  </div>
  <div class="row justify-content-center">
      <%for (comment of comments) { %>
        <%if (comment.pageId == poem.id) {%>
          <div class="col-sm-8">
          <h5><%=comment.author%></h5>
          <p><%=comment.comment%></p>
          <form action="/poems/<%=poem.id%>/<%=comment.id%>?_method=DELETE" method="post">
            <button type="button" class="btn btn-primary btn-sm" name="button">Delete</button>
          </form>
          </div>
        <%}%>
      <%}%>
  </div>
</div>



<%- include('./partials/footer.ejs') -%>
